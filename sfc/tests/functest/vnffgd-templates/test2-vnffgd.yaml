tosca_definitions_version: tosca_simple_profile_for_nfv_1_0_0
description: test-case2

topology_template:
  description: topology-template-test2
  inputs:
    net_src_id:
      type: string

  node_templates:
    Forwarding_path1:
      type: tosca.nodes.nfv.FP.Tacker
      description:
      properties:
        id: 1
        policy:
          type: ACL
          criteria:
            - network_src_port_id: { get_input: net_src_id }
            - destination_port_range: 80-80
            - ip_proto: 6
            - ip_dst_prefix:
          path:
            - forwarder: VNFD1
              capability: CP1
            - forwarder: VNFD2
              capability: CP2

    Forwarding_path2:
      type: tosca.nodes.nfv.FP.Tacker
      description:
      properties:
        policy: ACL
        criteria:
          - network_src_port_id: 0
          - destination_port_range: 22-1024
          - ip_proto: 6
          - ip_dst_prefix:
        path:
          - forwarder: VNFD1
            capability: CP1
          - forwarder: VNFD2
            capability: CP1

    groups:
      VNFFG2:
        type: tosca.groups.nfv.VNFFG
        description:
        properties:
          vendor: tacker
          version: 1.0
          number_of_endpoints: 2
          dependent_virtual_links: [VL1, VL1]
          connection_point: [CP1, CP1]
          constituent_vnfs: [VNFD1, VNFD2]
        members: [Forwarding_path1, Forwarding_path2]